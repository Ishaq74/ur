---
import MainLayout from '../layouts/MainLayout.astro';
import Button from '../components/atoms/Button.astro';
import Icon from '../components/atoms/Icon.astro';
import { useTranslations, getLangFromUrl, getLocalizedPath } from '../i18n';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<MainLayout 
  title="404 - Page introuvable | Salut Annecy" 
  description="La page que vous recherchez n'existe pas"
  lang={lang}
>
  <section class="error-section">
    <div class="container">
      <div class="error-content">
        <div class="error-icon">
          <Icon name="alert-circle" size="xl" />
        </div>
        <h1 class="error-title">404</h1>
        <h2 class="error-subtitle">Page introuvable</h2>
        <p class="error-description">
          Désolé, la page que vous recherchez n'existe pas ou a été déplacée.
        </p>
        <div class="error-actions">
          <Button href={getLocalizedPath('/', lang)} variant="primary" size="lg">
            Retour à l'accueil
          </Button>
          <Button href={getLocalizedPath('/restaurants', lang)} variant="secondary" size="lg">
            Découvrir les restaurants
          </Button>
        </div>
      </div>
    </div>
  </section>
</MainLayout>

<style>
  .error-section {
    min-height: 60vh;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: var(--spacing-12) 0;
  }

  .error-content {
    text-align: center;
    max-width: 600px;
    margin: 0 auto;
  }

  .error-icon {
    color: var(--color-primary-500);
    margin-bottom: var(--spacing-6);
  }

  .error-title {
    font-size: 6rem;
    font-weight: var(--font-weight-extrabold);
    color: var(--color-primary-600);
    margin-bottom: var(--spacing-4);
    line-height: 1;
  }

  .error-subtitle {
    font-size: var(--font-size-3xl);
    font-weight: var(--font-weight-bold);
    margin-bottom: var(--spacing-4);
  }

  .error-description {
    font-size: var(--font-size-lg);
    color: var(--color-text-secondary);
    margin-bottom: var(--spacing-8);
  }

  .error-actions {
    display: flex;
    gap: var(--spacing-4);
    justify-content: center;
    flex-wrap: wrap;
  }

  @media (max-width: 768px) {
    .error-title {
      font-size: 4rem;
    }

    .error-subtitle {
      font-size: var(--font-size-2xl);
    }

    .error-actions {
      flex-direction: column;
      align-items: stretch;
    }
  }
</style>
